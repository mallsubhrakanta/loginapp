pipeline {
   agent any
   tools {
     maven "maven"  
   }
   environment {
       scannerHome = tool 'SonarQube Scanner'
   }

   stages {
      stage('Git Checkout') {
         steps {
            git 'https://github.com/Chandandhani/loginapp.git'   
         }
      }
    stage('Static code Analisyss'){
      steps {
           withSonarQubeEnv('SonarQube servers') {
            /*sh "${scannerHome}/bin/sonar-scanner -Dsonar.sourceEncoding=UTF-8 -Dsonar.projectKey=testpipeline -Dsonar.projectName=testpipeline -Dsonar.projectVersion=1.0"*/
            sh "mvn sonar:sonar"
        }
      }    
        
    }
    stage ('Maven Goal'){
      steps {
         sh "mvn clean install package    " 
      }    
    }
    
    }
}
